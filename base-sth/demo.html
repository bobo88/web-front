<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script type="module">
        // import { name } from '../books/ECMAScript 6 入门/demoForImport.js'
        // console.log('import methods: name -->', name)
    </script>
    <script>
        // 队列结构封装 - 先进先出（FIFO： first in first out）
        function Queue() {
            this.queueList = []
        }
        Queue.prototype.inQueue = function (item) {
            this.queueList.push(item)
        }
        Queue.prototype.outQueue = function () {
            return this.queueList.shift()
        }
        Queue.prototype.getQueueSize = function () {
            return this.queueList.length
        }
        Queue.prototype.isEmptyQueue = function () {
            return this.queueList.length === 0
        }
        Queue.prototype.toString = function () {
            let res = ''
            for (let i = 0; i < this.queueList.length; i++) {
                res += this.queueList[i] + ' '
            }
            return res
        }

        /**
 * 游戏名称： 击鼓传花
 * 游戏规则：
 * 1、几个朋友一起玩一个游戏，围成一圈，开始数数，数到某个数字的人自动淘汰；
 * 2、最后剩下的这个人会获得胜利，请问最后剩下的这个人是哪个位置上的？
*/
        function passGame(list, num) {
            let res = ''
            let queueObj = new Queue()
            // 1、将人数插入队列中
            for (let i = 0; i < list.length; i++) {
                queueObj.inQueue(list[i])
            }
            // console.log(queueObj.queueList)
            // 2、数数，淘汰人（当参与游戏的人数还大于1的时候，游戏继续）
            while (queueObj.getQueueSize() > 1) {
                // 2.1 num之前的人，重新插入队列中
                for (let i = 0; i < num - 1; i++) {
                    queueObj.inQueue(queueObj.outQueue())
                }
                // 2.2 当 num 对应这个人时，这个人直接淘汰
                queueObj.outQueue()
            }
            return {
                lastName: queueObj.queueList[0]
            }
        }
        let playPersons = ['小明', '小花', '小红', '小王', '小李', '小袁']
        // playPersons: 玩游戏的人， 3: 数到数字3就自动淘汰
        let play = new passGame(playPersons, 3)
        console.log(play.lastName)    // 小明
    </script>
</body>

</html>